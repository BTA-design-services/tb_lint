

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>tb_lint.verible_verilog_syntax &mdash; tb_lint 3.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=110ea713"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            tb_lint
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">tb_lint</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">tb_lint</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
          <li class="breadcrumb-item"><a href="../tb_lint.html">tb_lint</a></li>
      <li class="breadcrumb-item active">tb_lint.verible_verilog_syntax</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for tb_lint.verible_verilog_syntax</h1><div class="highlight"><pre>
<span></span><span class="c1"># Copyright 2017-2020 The Verible Authors.</span>
<span class="c1">#</span>
<span class="c1"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1"># you may not use this file except in compliance with the License.</span>
<span class="c1"># You may obtain a copy of the License at</span>
<span class="c1">#</span>
<span class="c1">#      http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">#</span>
<span class="c1"># Unless required by applicable law or agreed to in writing, software</span>
<span class="c1"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1"># See the License for the specific language governing permissions and</span>
<span class="c1"># limitations under the License.</span>
<span class="sd">&quot;&quot;&quot;Wrapper for ``verible-verilog-syntax --export_json``&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">collections</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">subprocess</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">anytree</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">dataclasses</span>

<span class="n">_CSI_SEQUENCE</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\033\\</span><span class="s2">[.*?m&quot;</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">_colorize</span><span class="p">(</span><span class="n">formats</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">strings</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
  <span class="n">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
  <span class="n">fi</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">strings</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\033</span><span class="s2">[</span><span class="si">{</span><span class="n">formats</span><span class="p">[</span><span class="n">fi</span><span class="p">]</span><span class="si">}</span><span class="s2">m</span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="se">\033</span><span class="s2">[0m&quot;</span>
    <span class="n">fi</span> <span class="o">=</span> <span class="p">(</span><span class="n">fi</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">formats</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">result</span>


<span class="c1"># Type aliases</span>

<span class="n">CallableFilter</span> <span class="o">=</span> <span class="n">Callable</span><span class="p">[[</span><span class="s2">&quot;Node&quot;</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span>
<span class="n">KeyValueFilter</span> <span class="o">=</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span>
<span class="n">TreeIterator</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span><span class="s2">&quot;_TreeIteratorBase&quot;</span><span class="p">,</span> <span class="n">anytree</span><span class="o">.</span><span class="n">iterators</span><span class="o">.</span><span class="n">AbstractIter</span><span class="p">]</span>


<span class="c1"># Custom tree iterators with an option for reverse children iteration</span>

<span class="k">class</span><span class="w"> </span><span class="nc">_TreeIteratorBase</span><span class="p">:</span>
  <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="s2">&quot;Node&quot;</span><span class="p">,</span>
               <span class="n">filter_</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">CallableFilter</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
               <span class="n">reverse_children</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">tree</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">reverse_children</span> <span class="o">=</span> <span class="n">reverse_children</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filter_</span> <span class="o">=</span> <span class="n">filter_</span> <span class="k">if</span> <span class="n">filter_</span> <span class="k">else</span> <span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="kc">True</span>

  <span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="s2">&quot;Node&quot;</span><span class="p">]:</span>
    <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_tree</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tree</span><span class="p">)</span>

  <span class="k">def</span><span class="w"> </span><span class="nf">_iter_children</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Node&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="s2">&quot;Node&quot;</span><span class="p">]:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">tree</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="s2">&quot;children&quot;</span><span class="p">):</span>
      <span class="k">return</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="n">tree</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">reverse_children</span> \
                         <span class="k">else</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">children</span><span class="p">)</span>

  <span class="k">def</span><span class="w"> </span><span class="nf">_iter_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Node&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="s2">&quot;Node&quot;</span><span class="p">]:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Subclass must implement &#39;_iter_tree&#39; method&quot;</span><span class="p">)</span>


<div class="viewcode-block" id="PreOrderTreeIterator">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.PreOrderTreeIterator">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">PreOrderTreeIterator</span><span class="p">(</span><span class="n">_TreeIteratorBase</span><span class="p">):</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">_iter_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Node&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="s2">&quot;Node&quot;</span><span class="p">]:</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_</span><span class="p">(</span><span class="n">tree</span><span class="p">):</span>
      <span class="k">yield</span> <span class="n">tree</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_children</span><span class="p">(</span><span class="n">tree</span><span class="p">):</span>
      <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_tree</span><span class="p">(</span><span class="n">child</span><span class="p">)</span></div>



<div class="viewcode-block" id="PostOrderTreeIterator">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.PostOrderTreeIterator">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">PostOrderTreeIterator</span><span class="p">(</span><span class="n">_TreeIteratorBase</span><span class="p">):</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">_iter_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Node&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="s2">&quot;Node&quot;</span><span class="p">]:</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_children</span><span class="p">(</span><span class="n">tree</span><span class="p">):</span>
      <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_iter_tree</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_</span><span class="p">(</span><span class="n">tree</span><span class="p">):</span>
      <span class="k">yield</span> <span class="n">tree</span></div>



<div class="viewcode-block" id="LevelOrderTreeIterator">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.LevelOrderTreeIterator">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">LevelOrderTreeIterator</span><span class="p">(</span><span class="n">_TreeIteratorBase</span><span class="p">):</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">_iter_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Node&quot;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="s2">&quot;Node&quot;</span><span class="p">]:</span>
    <span class="n">queue</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">deque</span><span class="p">([</span><span class="n">tree</span><span class="p">])</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">queue</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
      <span class="n">n</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="k">yield</span> <span class="n">n</span>
      <span class="n">queue</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_iter_children</span><span class="p">(</span><span class="n">n</span><span class="p">))</span></div>



<div class="viewcode-block" id="Node">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.Node">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Node</span><span class="p">(</span><span class="n">anytree</span><span class="o">.</span><span class="n">NodeMixin</span><span class="p">):</span>
<span class="w">  </span><span class="sd">&quot;&quot;&quot;Base VeribleVerilogSyntax syntax tree node.</span>

<span class="sd">  Attributes:</span>
<span class="sd">    parent (Optional[Node]): Parent node.</span>
<span class="sd">  &quot;&quot;&quot;</span>
<div class="viewcode-block" id="Node.__init__">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.Node.__init__">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Node&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span></div>


  <span class="nd">@property</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">syntax_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;SyntaxData&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parent SyntaxData&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">syntax_data</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="k">else</span> <span class="kc">None</span>

  <span class="nd">@property</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Byte offset of node&#39;s first character in source text&quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Subclass must implement &#39;start&#39; property&quot;</span><span class="p">)</span>

  <span class="nd">@property</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Byte offset of a character just past the node in source text.&quot;&quot;&quot;</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Subclass must implement &#39;end&#39; property&quot;</span><span class="p">)</span>

  <span class="nd">@property</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Source code fragment spanning all tokens in a node.&quot;&quot;&quot;</span>
    <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span>
    <span class="n">end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span>
    <span class="n">sd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">syntax_data</span>
    <span class="k">if</span> <span class="p">((</span><span class="n">start</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">end</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sd</span> <span class="ow">and</span> <span class="n">sd</span><span class="o">.</span><span class="n">source_code</span>
        <span class="ow">and</span> <span class="n">end</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sd</span><span class="o">.</span><span class="n">source_code</span><span class="p">)):</span>
      <span class="k">return</span> <span class="n">sd</span><span class="o">.</span><span class="n">source_code</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span>

  <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">_CSI_SEQUENCE</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_formatted_string</span><span class="p">())</span>

<div class="viewcode-block" id="Node.to_formatted_string">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.Node.to_formatted_string">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="nf">to_formatted_string</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Print node representation formatted for printing in terminal.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span></div>
</div>



<div class="viewcode-block" id="BranchNode">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.BranchNode">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">BranchNode</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">  </span><span class="sd">&quot;&quot;&quot;Syntax tree branch node</span>

<span class="sd">  Attributes:</span>
<span class="sd">    tag (str): Node tag.</span>
<span class="sd">    children (Optional[Node]): Child nodes.</span>
<span class="sd">  &quot;&quot;&quot;</span>
<div class="viewcode-block" id="BranchNode.__init__">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.BranchNode.__init__">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Node</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
               <span class="n">children</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">children</span> <span class="k">if</span> <span class="n">children</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span></div>


  <span class="nd">@property</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="n">first_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">TokenNode</span><span class="p">),</span>
                            <span class="n">iter_</span><span class="o">=</span><span class="n">PostOrderTreeIterator</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">first_token</span><span class="o">.</span><span class="n">start</span> <span class="k">if</span> <span class="n">first_token</span> <span class="k">else</span> <span class="kc">None</span>

  <span class="nd">@property</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="n">last_token</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="k">lambda</span> <span class="n">n</span><span class="p">:</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">TokenNode</span><span class="p">),</span>
                           <span class="n">iter_</span><span class="o">=</span><span class="n">PostOrderTreeIterator</span><span class="p">,</span> <span class="n">reverse_children</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">last_token</span><span class="o">.</span><span class="n">end</span> <span class="k">if</span> <span class="n">last_token</span> <span class="k">else</span> <span class="kc">None</span>

<div class="viewcode-block" id="BranchNode.iter_find_all">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.BranchNode.iter_find_all">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="nf">iter_find_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CallableFilter</span><span class="p">,</span> <span class="n">KeyValueFilter</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
                    <span class="n">max_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="n">iter_</span><span class="p">:</span> <span class="n">TreeIterator</span> <span class="o">=</span> <span class="n">LevelOrderTreeIterator</span><span class="p">,</span>
                    <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Node</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Iterate all nodes matching specified filter.</span>

<span class="sd">    Args:</span>
<span class="sd">      filter_: Describes what to search for. Might be:</span>
<span class="sd">        * Callable taking Node as an argument and returning True for accepted</span>
<span class="sd">          nodes.</span>
<span class="sd">        * Dict mapping Node attribute names to searched value or list of</span>
<span class="sd">          searched values.</span>
<span class="sd">      max_count: Stop searching after finding that many matching nodes.</span>
<span class="sd">      iter_: Tree iterator. Decides in what order nodes are visited.</span>

<span class="sd">    Yields:</span>
<span class="sd">      Nodes matching specified filter.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">as_list</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">v</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="k">else</span> <span class="p">[</span><span class="n">v</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">filter_</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="n">filter_</span><span class="p">):</span>
      <span class="n">filters</span> <span class="o">=</span> <span class="n">filter_</span>
      <span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">attr</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">filters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
          <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
          <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">as_list</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>
      <span class="n">filter_</span> <span class="o">=</span> <span class="n">f</span>

    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">iter_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
      <span class="k">yield</span> <span class="n">node</span>
      <span class="n">max_count</span> <span class="o">-=</span> <span class="mi">1</span>
      <span class="k">if</span> <span class="n">max_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">break</span></div>


<div class="viewcode-block" id="BranchNode.find">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.BranchNode.find">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CallableFilter</span><span class="p">,</span> <span class="n">KeyValueFilter</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
           <span class="n">iter_</span><span class="p">:</span> <span class="n">TreeIterator</span> <span class="o">=</span> <span class="n">LevelOrderTreeIterator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> \
           <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Node</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find node matching specified filter.</span>

<span class="sd">    Args:</span>
<span class="sd">      filter_: Describes what to search for. Might be:</span>
<span class="sd">        * Callable taking Node as an argument and returning True for accepted</span>
<span class="sd">          node.</span>
<span class="sd">        * Dict mapping Node attribute names to searched value or list of</span>
<span class="sd">          searched values.</span>
<span class="sd">      iter_: Tree iterator. Decides in what order nodes are visited.</span>

<span class="sd">    Returns:</span>
<span class="sd">      First Node matching filter.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iter_find_all</span><span class="p">(</span><span class="n">filter_</span><span class="p">,</span> <span class="n">max_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">iter_</span><span class="o">=</span><span class="n">iter_</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span></div>


<div class="viewcode-block" id="BranchNode.find_all">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.BranchNode.find_all">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="nf">find_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">CallableFilter</span><span class="p">,</span> <span class="n">KeyValueFilter</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
               <span class="n">max_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">iter_</span><span class="p">:</span> <span class="n">TreeIterator</span> <span class="o">=</span> <span class="n">LevelOrderTreeIterator</span><span class="p">,</span>
               <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Find all nodes matching specified filter.</span>

<span class="sd">    Args:</span>
<span class="sd">      filter_: Describes what to search for. Might be:</span>
<span class="sd">        * Callable taking Node as an argument and returning True for accepted</span>
<span class="sd">          nodes.</span>
<span class="sd">        * Dict mapping Node attribute names to searched value or list of</span>
<span class="sd">          searched values.</span>
<span class="sd">      max_count: Stop searching after finding that many matching nodes.</span>
<span class="sd">      iter_: Tree iterator. Decides in what order nodes are visited.</span>

<span class="sd">    Returns:</span>
<span class="sd">      List of nodes matching specified filter.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">iter_find_all</span><span class="p">(</span><span class="n">filter_</span><span class="p">,</span> <span class="n">max_count</span><span class="o">=</span><span class="n">max_count</span><span class="p">,</span> <span class="n">iter_</span><span class="o">=</span><span class="n">iter_</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span></div>


<div class="viewcode-block" id="BranchNode.to_formatted_string">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.BranchNode.to_formatted_string">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="nf">to_formatted_string</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="o">==</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">_colorize</span><span class="p">([</span><span class="s2">&quot;37&quot;</span><span class="p">,</span> <span class="s2">&quot;1;97&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="s2">&quot;]&quot;</span><span class="p">])</span></div>
</div>



<div class="viewcode-block" id="RootNode">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.RootNode">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">RootNode</span><span class="p">(</span><span class="n">BranchNode</span><span class="p">):</span>
<span class="w">  </span><span class="sd">&quot;&quot;&quot;Syntax tree root node.&quot;&quot;&quot;</span>
<div class="viewcode-block" id="RootNode.__init__">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.RootNode.__init__">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">syntax_data</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;SyntaxData&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
               <span class="n">children</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Node</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_syntax_data</span> <span class="o">=</span> <span class="n">syntax_data</span></div>


  <span class="nd">@property</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">syntax_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;SyntaxData&quot;</span><span class="p">]:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_syntax_data</span></div>



<div class="viewcode-block" id="LeafNode">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.LeafNode">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">LeafNode</span><span class="p">(</span><span class="n">Node</span><span class="p">):</span>
<span class="w">  </span><span class="sd">&quot;&quot;&quot;Syntax tree leaf node.</span>

<span class="sd">  This specific class is used for null nodes.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="nd">@property</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Byte offset of token&#39;s first character in source text&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="kc">None</span>

  <span class="nd">@property</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Byte offset of a character just past the token in source text.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="kc">None</span>

<div class="viewcode-block" id="LeafNode.to_formatted_string">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.LeafNode.to_formatted_string">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="nf">to_formatted_string</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">_colorize</span><span class="p">([</span><span class="s2">&quot;90&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;null&quot;</span><span class="p">])</span></div>
</div>



<div class="viewcode-block" id="TokenNode">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.TokenNode">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">TokenNode</span><span class="p">(</span><span class="n">LeafNode</span><span class="p">):</span>
<span class="w">  </span><span class="sd">&quot;&quot;&quot;Tree node with token data</span>

<span class="sd">  Represents single token in a syntax tree.</span>

<span class="sd">  Attributes:</span>
<span class="sd">    tag (str): Token tag.</span>
<span class="sd">  &quot;&quot;&quot;</span>

<div class="viewcode-block" id="TokenNode.__init__">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.TokenNode.__init__">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
               <span class="n">parent</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Node</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_start</span> <span class="o">=</span> <span class="n">start</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_end</span> <span class="o">=</span> <span class="n">end</span></div>


  <span class="nd">@property</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start</span>

  <span class="nd">@property</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_end</span>

<div class="viewcode-block" id="TokenNode.to_formatted_string">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.TokenNode.to_formatted_string">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="nf">to_formatted_string</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="o">==</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="p">[</span>
      <span class="n">_colorize</span><span class="p">([</span><span class="s2">&quot;37&quot;</span><span class="p">,</span> <span class="s2">&quot;1;97&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="s2">&quot;]&quot;</span><span class="p">]),</span>
      <span class="n">_colorize</span><span class="p">([</span><span class="s2">&quot;33&quot;</span><span class="p">,</span> <span class="s2">&quot;93&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;@(&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">]),</span>
    <span class="p">]</span>
    <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="o">!=</span> <span class="n">text</span><span class="p">:</span>
      <span class="n">parts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_colorize</span><span class="p">([</span><span class="s2">&quot;32&quot;</span><span class="p">,</span> <span class="s2">&quot;92&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">text</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">]))</span>
    <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="Token">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.Token">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Token</span><span class="p">:</span>
<span class="w">  </span><span class="sd">&quot;&quot;&quot;Token data</span>

<span class="sd">  Represents single token in tokens and rawtokens lists.</span>

<span class="sd">  Attributes:</span>
<span class="sd">    tag (str): Token tag.</span>
<span class="sd">    start (int): Byte offset of token&#39;s first character in source text.</span>
<span class="sd">    end (int): Byte offset of a character just past the token in source text.</span>
<span class="sd">    syntax_data (Optional[&quot;SyntaxData&quot;]): Parent SyntaxData.</span>
<span class="sd">  &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Token.__init__">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.Token.__init__">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">end</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
               <span class="n">syntax_data</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;SyntaxData&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="o">=</span> <span class="n">tag</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">end</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">syntax_data</span> <span class="o">=</span> <span class="n">syntax_data</span></div>


  <span class="nd">@property</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">text</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Token text in source code.&quot;&quot;&quot;</span>
    <span class="n">sd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">syntax_data</span>
    <span class="k">if</span> <span class="n">sd</span> <span class="ow">and</span> <span class="n">sd</span><span class="o">.</span><span class="n">source_code</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sd</span><span class="o">.</span><span class="n">source_code</span><span class="p">):</span>
      <span class="k">return</span> <span class="n">sd</span><span class="o">.</span><span class="n">source_code</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;&quot;</span>

  <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">_CSI_SEQUENCE</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_formatted_string</span><span class="p">())</span>

<div class="viewcode-block" id="Token.to_formatted_string">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.Token.to_formatted_string">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="nf">to_formatted_string</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag</span> <span class="o">==</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tag</span><span class="p">)</span>
    <span class="n">parts</span> <span class="o">=</span> <span class="p">[</span>
      <span class="n">_colorize</span><span class="p">([</span><span class="s2">&quot;37&quot;</span><span class="p">,</span> <span class="s2">&quot;1;97&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="s2">&quot;]&quot;</span><span class="p">]),</span>
      <span class="n">_colorize</span><span class="p">([</span><span class="s2">&quot;33&quot;</span><span class="p">,</span> <span class="s2">&quot;93&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;@(&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="s2">&quot;)&quot;</span><span class="p">]),</span>
      <span class="n">_colorize</span><span class="p">([</span><span class="s2">&quot;32&quot;</span><span class="p">,</span> <span class="s2">&quot;92&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">]),</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="Error">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.Error">[docs]</a>
<span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Error</span><span class="p">:</span>
  <span class="n">line</span><span class="p">:</span> <span class="nb">int</span>
  <span class="n">column</span><span class="p">:</span> <span class="nb">int</span>
  <span class="n">phase</span><span class="p">:</span> <span class="nb">str</span>
  <span class="n">message</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span></div>



<div class="viewcode-block" id="SyntaxData">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.SyntaxData">[docs]</a>
<span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SyntaxData</span><span class="p">:</span>
  <span class="n">source_code</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">tree</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">RootNode</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">tokens</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Token</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">rawtokens</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Token</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="n">errors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Error</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span></div>



<div class="viewcode-block" id="VeribleVerilogSyntax">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.VeribleVerilogSyntax">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">VeribleVerilogSyntax</span><span class="p">:</span>
<span class="w">  </span><span class="sd">&quot;&quot;&quot;``verible-verilog-syntax`` wrapper.</span>

<span class="sd">  This class provides methods for running ``verible-verilog-syntax`` and</span>
<span class="sd">  transforming its output into Python data structures.</span>

<span class="sd">  Args:</span>
<span class="sd">    executable: path to ``verible-verilog-syntax`` binary.</span>
<span class="sd">  &quot;&quot;&quot;</span>

<div class="viewcode-block" id="VeribleVerilogSyntax.__init__">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.VeribleVerilogSyntax.__init__">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">executable</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;verible-verilog-syntax&quot;</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">executable</span> <span class="o">=</span> <span class="n">executable</span></div>


  <span class="nd">@staticmethod</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">_transform_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">SyntaxData</span><span class="p">,</span> <span class="n">skip_null</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RootNode</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">transform</span><span class="p">(</span><span class="n">tree</span><span class="p">):</span>
      <span class="k">if</span> <span class="n">tree</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
      <span class="k">if</span> <span class="s2">&quot;children&quot;</span> <span class="ow">in</span> <span class="n">tree</span><span class="p">:</span>
        <span class="n">children</span> <span class="o">=</span> <span class="p">[</span>
          <span class="n">transform</span><span class="p">(</span><span class="n">child</span><span class="p">)</span> <span class="ow">or</span> <span class="n">LeafNode</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">tree</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">skip_null</span> <span class="ow">and</span> <span class="n">child</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="n">tag</span> <span class="o">=</span> <span class="n">tree</span><span class="p">[</span><span class="s2">&quot;tag&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">BranchNode</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="n">children</span><span class="p">)</span>
      <span class="n">tag</span> <span class="o">=</span> <span class="n">tree</span><span class="p">[</span><span class="s2">&quot;tag&quot;</span><span class="p">]</span>
      <span class="n">start</span> <span class="o">=</span> <span class="n">tree</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span>
      <span class="n">end</span> <span class="o">=</span> <span class="n">tree</span><span class="p">[</span><span class="s2">&quot;end&quot;</span><span class="p">]</span>
      <span class="k">return</span> <span class="n">TokenNode</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;children&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">tree</span><span class="p">:</span>
      <span class="k">return</span> <span class="kc">None</span>

    <span class="n">children</span> <span class="o">=</span> <span class="p">[</span>
      <span class="n">transform</span><span class="p">(</span><span class="n">child</span><span class="p">)</span> <span class="ow">or</span> <span class="n">LeafNode</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">tree</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">skip_null</span> <span class="ow">and</span> <span class="n">child</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="n">tree</span><span class="p">[</span><span class="s2">&quot;tag&quot;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">RootNode</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">syntax_data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="n">children</span><span class="p">)</span>


  <span class="nd">@staticmethod</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">_transform_tokens</span><span class="p">(</span><span class="n">tokens</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">SyntaxData</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Token</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">Token</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="s2">&quot;tag&quot;</span><span class="p">],</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">],</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;end&quot;</span><span class="p">],</span> <span class="n">data</span><span class="p">)</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">]</span>


  <span class="nd">@staticmethod</span>
  <span class="k">def</span><span class="w"> </span><span class="nf">_transform_errors</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Error</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">Error</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="s2">&quot;line&quot;</span><span class="p">],</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;column&quot;</span><span class="p">],</span> <span class="n">t</span><span class="p">[</span><span class="s2">&quot;phase&quot;</span><span class="p">],</span> <span class="n">t</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">]</span>

  <span class="k">def</span><span class="w"> </span><span class="nf">_parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">paths</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">input_</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
             <span class="n">options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">SyntaxData</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Common implementation of parse_* methods&quot;&quot;&quot;</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">&quot;gen_tree&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
      <span class="s2">&quot;skip_null&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
      <span class="s2">&quot;gen_tokens&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
      <span class="s2">&quot;gen_rawtokens&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
      <span class="o">**</span><span class="p">(</span><span class="n">options</span> <span class="ow">or</span> <span class="p">{}),</span>
    <span class="p">}</span>

    <span class="n">args</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;-export_json&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;gen_tree&quot;</span><span class="p">]:</span>
      <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-printtree&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;gen_tokens&quot;</span><span class="p">]:</span>
      <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-printtokens&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;gen_rawtokens&quot;</span><span class="p">]:</span>
      <span class="n">args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;-printrawtokens&quot;</span><span class="p">)</span>

    <span class="n">proc</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">executable</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span> <span class="p">,</span> <span class="o">*</span><span class="n">paths</span><span class="p">],</span>
        <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
        <span class="nb">input</span><span class="o">=</span><span class="n">input_</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">,</span>
        <span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">json_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">proc</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">file_path</span><span class="p">,</span> <span class="n">file_json</span> <span class="ow">in</span> <span class="n">json_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
      <span class="n">file_data</span> <span class="o">=</span> <span class="n">SyntaxData</span><span class="p">()</span>

      <span class="k">if</span> <span class="n">file_path</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span><span class="p">:</span>
        <span class="n">file_data</span><span class="o">.</span><span class="n">source_code</span> <span class="o">=</span> <span class="n">input_</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
      <span class="k">else</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
          <span class="n">file_data</span><span class="o">.</span><span class="n">source_code</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

      <span class="k">if</span> <span class="s2">&quot;tree&quot;</span> <span class="ow">in</span> <span class="n">file_json</span><span class="p">:</span>
        <span class="n">file_data</span><span class="o">.</span><span class="n">tree</span> <span class="o">=</span> <span class="n">VeribleVerilogSyntax</span><span class="o">.</span><span class="n">_transform_tree</span><span class="p">(</span>
            <span class="n">file_json</span><span class="p">[</span><span class="s2">&quot;tree&quot;</span><span class="p">],</span> <span class="n">file_data</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;skip_null&quot;</span><span class="p">])</span>

      <span class="k">if</span> <span class="s2">&quot;tokens&quot;</span> <span class="ow">in</span> <span class="n">file_json</span><span class="p">:</span>
        <span class="n">file_data</span><span class="o">.</span><span class="n">tokens</span> <span class="o">=</span> <span class="n">VeribleVerilogSyntax</span><span class="o">.</span><span class="n">_transform_tokens</span><span class="p">(</span>
            <span class="n">file_json</span><span class="p">[</span><span class="s2">&quot;tokens&quot;</span><span class="p">],</span> <span class="n">file_data</span><span class="p">)</span>

      <span class="k">if</span> <span class="s2">&quot;rawtokens&quot;</span> <span class="ow">in</span> <span class="n">file_json</span><span class="p">:</span>
        <span class="n">file_data</span><span class="o">.</span><span class="n">rawtokens</span> <span class="o">=</span> <span class="n">VeribleVerilogSyntax</span><span class="o">.</span><span class="n">_transform_tokens</span><span class="p">(</span>
            <span class="n">file_json</span><span class="p">[</span><span class="s2">&quot;rawtokens&quot;</span><span class="p">],</span> <span class="n">file_data</span><span class="p">)</span>

      <span class="k">if</span> <span class="s2">&quot;errors&quot;</span> <span class="ow">in</span> <span class="n">file_json</span><span class="p">:</span>
        <span class="n">file_data</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="n">VeribleVerilogSyntax</span><span class="o">.</span><span class="n">_transform_errors</span><span class="p">(</span>
                           <span class="n">file_json</span><span class="p">[</span><span class="s2">&quot;errors&quot;</span><span class="p">])</span>

      <span class="n">data</span><span class="p">[</span><span class="n">file_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">file_data</span>

    <span class="k">return</span> <span class="n">data</span>

<div class="viewcode-block" id="VeribleVerilogSyntax.parse_files">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.VeribleVerilogSyntax.parse_files">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="nf">parse_files</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">paths</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> \
                  <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">SyntaxData</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse multiple SystemVerilog files.</span>

<span class="sd">    Args:</span>
<span class="sd">      paths: list of paths to files to parse.</span>
<span class="sd">      options: dict with parsing options.</span>
<span class="sd">        Available options:</span>
<span class="sd">          gen_tree (boolean): whether to generate syntax tree.</span>
<span class="sd">          skip_null (boolean): null nodes won&#39;t be stored in a tree if True.</span>
<span class="sd">          gen_tokens (boolean): whether to generate tokens list.</span>
<span class="sd">          gen_rawtokens (boolean): whether to generate raw token list.</span>
<span class="sd">        By default only ``gen_tree`` is True.</span>

<span class="sd">    Returns:</span>
<span class="sd">      A dict that maps file names to their parsing results in SyntaxData object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse</span><span class="p">(</span><span class="n">paths</span><span class="p">,</span> <span class="n">options</span> <span class="o">=</span> <span class="n">options</span><span class="p">)</span></div>


<div class="viewcode-block" id="VeribleVerilogSyntax.parse_file">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.VeribleVerilogSyntax.parse_file">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="nf">parse_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> \
                 <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SyntaxData</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse single SystemVerilog file.</span>

<span class="sd">    Args:</span>
<span class="sd">      path: path to a file to parse.</span>
<span class="sd">      options: dict with parsing options.</span>
<span class="sd">        Available options:</span>
<span class="sd">          gen_tree (boolean): whether to generate syntax tree.</span>
<span class="sd">          skip_null (boolean): null nodes won&#39;t be stored in a tree if True.</span>
<span class="sd">          gen_tokens (boolean): whether to generate tokens list.</span>
<span class="sd">          gen_rawtokens (boolean): whether to generate raw token list.</span>
<span class="sd">        By default only ``gen_tree`` is True.</span>

<span class="sd">    Returns:</span>
<span class="sd">      Parsing results in SyntaxData object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse</span><span class="p">([</span><span class="n">path</span><span class="p">],</span> <span class="n">options</span> <span class="o">=</span> <span class="n">options</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></div>


<div class="viewcode-block" id="VeribleVerilogSyntax.parse_string">
<a class="viewcode-back" href="../../tb_lint.html#tb_lint.verible_verilog_syntax.VeribleVerilogSyntax.parse_string">[docs]</a>
  <span class="k">def</span><span class="w"> </span><span class="nf">parse_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">options</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> \
                   <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SyntaxData</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse a string with SystemVerilog code.</span>

<span class="sd">    Args:</span>
<span class="sd">      string: SystemVerilog code to parse.</span>
<span class="sd">      options: dict with parsing options.</span>
<span class="sd">        Available options:</span>
<span class="sd">          gen_tree (boolean): whether to generate syntax tree.</span>
<span class="sd">          skip_null (boolean): null nodes won&#39;t be stored in a tree if True.</span>
<span class="sd">          gen_tokens (boolean): whether to generate tokens list.</span>
<span class="sd">          gen_rawtokens (boolean): whether to generate raw token list.</span>
<span class="sd">        By default only ``gen_tree`` is True.</span>

<span class="sd">    Returns:</span>
<span class="sd">      Parsing results in SyntaxData object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parse</span><span class="p">([</span><span class="s2">&quot;-&quot;</span><span class="p">],</span> <span class="n">input_</span><span class="o">=</span><span class="n">string</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span></div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, BTA Design Services.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>